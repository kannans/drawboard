<h3>Visitor Name: <%= @user_name%></h3>
<h4>Choose Color: <input class="jscolor" value="ab2567"></h4>

<table border="0" cellspacing="0" cellpadding="0" id="js-grid-board" data-username="<%= @user_name %>">
  <tbody>
    <% @board.grid_board.keys.in_groups_of(@board.grid_x_size).each do |group| %>
      <tr>
        <% group.each do |y| %>
          <td title="<%= @board.grid_box_details(y)%>"
            data-position="<%= y %>"
            class="js-fill-color"
            data-color="<%= @board.grid_box_color(y)%>"
            style="background-color: <%= @board.grid_box_color(y)%>">
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>


<hr>

<table>
  <thead>
  <tr>
    <th>User Name</th>
    <th> Color Placed Count</th>
    <th> Favorite color </th>
  </tr>
  </thead>
  <tbody>
    <% @board.show_top_users_grid.each do |name, colors| %>
      <tr>
      <td class="user_name">
        <%= name %>
      </td>
      <td>
        <%= colors.size %>
      </td>
      <td>
        <%= colors.sort_by{ |e| e["color"]  }.last %>
      </td>
      </tr>
    <% end %>
  </tbody>
</table>